```python
import sys
import heapq
from collections import Counter

N = int(sys.stdin.readline().rstrip())

temp1 = []
temp2 = []

for _ in range(N):
    start, end = map(int, sys.stdin.readline().rstrip().split())
    temp1.append((start, end))
    temp2.append((end, start))

temp1.sort()
temp2.sort()

exist = []
ready = []
counter= Counter()
count = 0

i = 0
j = 0

while i < N:
    start, end = temp1[i]

    while j < N and temp2[j][0] <= start:
        _end, _start = temp2[j]
        j += 1

        for idx in range(len(exist)):
            if exist[idx][0] == _end:
                _, seat = heapq.heappop(exist)
                heapq.heappush(ready, seat)
                break

    if ready:
        seat = heapq.heappop(ready)
    else:
        seat = count
        count += 1

    heapq.heappush(exist, (end, seat))
    counter[seat] += 1
    i += 1

print(len(counter))
print(" ".join(str(counter[i]) for i in range(len(counter))))
```
